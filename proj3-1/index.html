<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_akquhtndbv99-7>li:before{content:"\0025cb  "}.lst-kix_akquhtndbv99-6>li:before{content:"\0025cf  "}.lst-kix_akquhtndbv99-8>li:before{content:"\0025a0  "}.lst-kix_x59loerr94az-0>li:before{content:"\0025cf  "}.lst-kix_x59loerr94az-2>li:before{content:"\0025a0  "}.lst-kix_x59loerr94az-1>li:before{content:"\0025cb  "}.lst-kix_lrb8rwuy2vky-0>li:before{content:"\0025cf  "}.lst-kix_pr47ikw425zy-8>li:before{content:"\0025a0  "}.lst-kix_akquhtndbv99-4>li:before{content:"\0025cb  "}.lst-kix_akquhtndbv99-5>li:before{content:"\0025a0  "}.lst-kix_pr47ikw425zy-6>li:before{content:"\0025cf  "}.lst-kix_pr47ikw425zy-7>li:before{content:"\0025cb  "}.lst-kix_pr47ikw425zy-4>li:before{content:"\0025cb  "}.lst-kix_akquhtndbv99-0>li:before{content:"\0025cf  "}.lst-kix_pr47ikw425zy-5>li:before{content:"\0025a0  "}.lst-kix_pr47ikw425zy-1>li:before{content:"\0025cb  "}.lst-kix_akquhtndbv99-3>li:before{content:"\0025cf  "}.lst-kix_akquhtndbv99-2>li:before{content:"\0025a0  "}.lst-kix_pr47ikw425zy-2>li:before{content:"\0025a0  "}.lst-kix_akquhtndbv99-1>li:before{content:"\0025cb  "}.lst-kix_pr47ikw425zy-3>li:before{content:"\0025cf  "}.lst-kix_pr47ikw425zy-0>li:before{content:"\0025cf  "}ul.lst-kix_x59loerr94az-2{list-style-type:none}ul.lst-kix_x59loerr94az-1{list-style-type:none}ul.lst-kix_x59loerr94az-0{list-style-type:none}ul.lst-kix_x59loerr94az-6{list-style-type:none}ul.lst-kix_x59loerr94az-5{list-style-type:none}ul.lst-kix_x59loerr94az-4{list-style-type:none}ul.lst-kix_x59loerr94az-3{list-style-type:none}ul.lst-kix_pr47ikw425zy-4{list-style-type:none}ul.lst-kix_pr47ikw425zy-3{list-style-type:none}ul.lst-kix_pr47ikw425zy-6{list-style-type:none}ul.lst-kix_pr47ikw425zy-5{list-style-type:none}ul.lst-kix_pr47ikw425zy-8{list-style-type:none}ul.lst-kix_pr47ikw425zy-7{list-style-type:none}ul.lst-kix_pr47ikw425zy-0{list-style-type:none}ul.lst-kix_pr47ikw425zy-2{list-style-type:none}ul.lst-kix_pr47ikw425zy-1{list-style-type:none}.lst-kix_lrb8rwuy2vky-4>li:before{content:"\0025cb  "}.lst-kix_x59loerr94az-8>li:before{content:"\0025a0  "}ul.lst-kix_lrb8rwuy2vky-1{list-style-type:none}.lst-kix_lrb8rwuy2vky-3>li:before{content:"\0025cf  "}.lst-kix_lrb8rwuy2vky-5>li:before{content:"\0025a0  "}ul.lst-kix_lrb8rwuy2vky-0{list-style-type:none}.lst-kix_48b07q9lo1ue-0>li:before{content:"\0025cf  "}.lst-kix_x59loerr94az-5>li:before{content:"\0025a0  "}.lst-kix_48b07q9lo1ue-1>li:before{content:"\0025cb  "}ul.lst-kix_lrb8rwuy2vky-7{list-style-type:none}ul.lst-kix_lrb8rwuy2vky-6{list-style-type:none}.lst-kix_lrb8rwuy2vky-1>li:before{content:"\0025cb  "}ul.lst-kix_lrb8rwuy2vky-8{list-style-type:none}.lst-kix_48b07q9lo1ue-2>li:before{content:"\0025a0  "}.lst-kix_48b07q9lo1ue-4>li:before{content:"\0025cb  "}.lst-kix_x59loerr94az-4>li:before{content:"\0025cb  "}.lst-kix_lrb8rwuy2vky-2>li:before{content:"\0025a0  "}ul.lst-kix_lrb8rwuy2vky-3{list-style-type:none}ul.lst-kix_lrb8rwuy2vky-2{list-style-type:none}ul.lst-kix_lrb8rwuy2vky-5{list-style-type:none}ul.lst-kix_lrb8rwuy2vky-4{list-style-type:none}.lst-kix_48b07q9lo1ue-3>li:before{content:"\0025cf  "}.lst-kix_x59loerr94az-3>li:before{content:"\0025cf  "}ul.lst-kix_akquhtndbv99-7{list-style-type:none}ul.lst-kix_akquhtndbv99-8{list-style-type:none}ul.lst-kix_akquhtndbv99-5{list-style-type:none}ul.lst-kix_x59loerr94az-8{list-style-type:none}ul.lst-kix_akquhtndbv99-6{list-style-type:none}.lst-kix_48b07q9lo1ue-6>li:before{content:"\0025cf  "}.lst-kix_48b07q9lo1ue-8>li:before{content:"\0025a0  "}ul.lst-kix_x59loerr94az-7{list-style-type:none}ul.lst-kix_48b07q9lo1ue-8{list-style-type:none}.lst-kix_48b07q9lo1ue-5>li:before{content:"\0025a0  "}.lst-kix_lrb8rwuy2vky-8>li:before{content:"\0025a0  "}ul.lst-kix_48b07q9lo1ue-4{list-style-type:none}ul.lst-kix_akquhtndbv99-0{list-style-type:none}ul.lst-kix_48b07q9lo1ue-5{list-style-type:none}.lst-kix_lrb8rwuy2vky-7>li:before{content:"\0025cb  "}ul.lst-kix_48b07q9lo1ue-6{list-style-type:none}ul.lst-kix_48b07q9lo1ue-7{list-style-type:none}.lst-kix_lrb8rwuy2vky-6>li:before{content:"\0025cf  "}ul.lst-kix_akquhtndbv99-3{list-style-type:none}ul.lst-kix_48b07q9lo1ue-0{list-style-type:none}.lst-kix_x59loerr94az-6>li:before{content:"\0025cf  "}ul.lst-kix_akquhtndbv99-4{list-style-type:none}ul.lst-kix_48b07q9lo1ue-1{list-style-type:none}ul.lst-kix_akquhtndbv99-1{list-style-type:none}ul.lst-kix_48b07q9lo1ue-2{list-style-type:none}.lst-kix_x59loerr94az-7>li:before{content:"\0025cb  "}ul.lst-kix_akquhtndbv99-2{list-style-type:none}ul.lst-kix_48b07q9lo1ue-3{list-style-type:none}.lst-kix_48b07q9lo1ue-7>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c4{padding-top:13pt;padding-bottom:12pt;line-height:1.43;orphans:2;widows:2;text-align:center;height:14pt}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c11{padding-top:13pt;padding-bottom:12pt;line-height:1.43;orphans:2;widows:2;text-align:left;height:14pt}.c5{color:#333333;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c8{color:#333333;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c0{padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c12{padding-top:0pt;padding-bottom:12pt;line-height:1.38;orphans:2;widows:2;text-align:left}.c15{padding-top:13pt;padding-bottom:12pt;line-height:1.43;orphans:2;widows:2;text-align:left}.c7{padding-top:13pt;padding-bottom:12pt;line-height:1.43;orphans:2;widows:2;text-align:center}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c16{text-decoration-skip-ink:none;font-size:12pt;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c6{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c13{font-size:12pt;color:#333333;font-weight:700}.c17{color:inherit;text-decoration:inherit}.c14{color:#333333;font-size:12pt}.c3{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c6"><div><p class="c2"><span class="c1"></span></p></div><h3 class="c7" id="h.b7fw2lpvh6vv"><span class="c8">Overview</span></h3><p class="c10"><span class="c5">In this project, we applied ray tracing algorithms to render scenes with objects and lights. To start with, we implemented a ray generation function, different primitive intersection checks, and also the bounding volume hierarchy in order to speed up the intersection calculations. Specifically, triangles are bounded by different boxes that we can do intersection tests instead. We do triangle intersections only if we arrive at the leaf nodes.</span></p><p class="c2"><span class="c5"></span></p><p class="c10"><span class="c5">Afterward, we did zero bounce and direct illumination by applying the equations and ideas such as Monte Carlo Integration that we learned in class. In this part, we encountered an issue that the colors were not rendered correctly, so we ended up looking more into the logic and discovered that it was the problem in how we transformed from and to different coordinates.</span></p><p class="c2"><span class="c5"></span></p><p class="c10"><span class="c5">We then implemented importance sampling, which is similar to the idea of direct illumination but more extensively samples the light sources. This allowed us to render a more beautiful image with less noise. For samplings with more than one bounce, we used recursive calls and Russian Roulette to probabilistically determine when to stop.</span></p><p class="c2"><span class="c5"></span></p><p class="c10"><span class="c5">Finally, adaptive sampling was implemented following the instructions, and using the derived batch mean and variance, we determined different sample rates for different parts of the image, resulting in a faster and comparatively low-noise rendering.</span></p><p class="c2"><span class="c5"></span></p><p class="c9"><span class="c8">Part 1</span></p><p class="c2"><span class="c8"></span></p><p class="c0"><span class="c5">For ray generation, we first derived the image coordinate from trigonometry in the camera frame, transformed the coordinate to world space, and generated the ray shooting from the given initial position to the world space coordinate vector. </span></p><p class="c0"><span class="c5">We test ray-triangle intersection by first testing if the ray hits the plane on which the triangle is located, using the plane intersection test we learned in class, and then we test if the ray-plane intersection point lies inside the triangle. The way of testing it is the same as before: we test whether the point lies on the same side of three lines constituting the triangle using the three point-in-triangle tests.</span></p><p class="c0"><span class="c5">Ray-sphere intersection is calculated using the equations provided in lecture; we solve a quadratic equation and check if the roots lie between the ray&#39;s min_t and max_t.</span></p><p class="c0"><span class="c5">Below are some of the images that we generated with normal shading:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 533.00px; height: 398.32px;"><img alt="" src="images/image20.png" style="width: 533.00px; height: 398.32px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 532.50px; height: 399.38px;"><img alt="" src="images/image24.png" style="width: 532.50px; height: 399.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c7" id="h.qwtmyeh6i2dw"><span class="c8">Part 2</span></h3><p class="c0"><span class="c8">Implementations:</span></p><p class="c0"><span class="c5">To construct our BVH, we first create a node using the bounding box of all its primitives. The base case of our BVH construction algorithm is when the number of primitives is less than max_leaf_size, and we simply return the created node. Otherwise, we find the longest axis of the bounding box and sort the primitives along that axis. Then we set the left child of the created node using a recursive call on the first half of the sorted primitives, and the right child with the second half. </span></p><p class="c12"><span class="c8">Runtime Analysis:</span></p><p class="c12"><span class="c5">BVH acceleration sped up our rendering times considerably. For example, cow.dae took 31.8846 seconds to render before acceleration and took only 0.1564 seconds to render after acceleration. Similarly, the rendering time for teapot.dae went from 13.2827 seconds to only 0.1490 seconds.</span></p><p class="c0"><span class="c8">Renderings:</span></p><p class="c0"><span class="c5">CBlucy.dae and beast.dae are examples that would be impossible to render (within a reasonable amount of time) without BVH acceleration, because they have way too many triangles.</span></p><p class="c0"><span class="c5">Below are the images of the two above mentioned scenes rendered using normal shading:</span></p><p class="c0 c3"><span class="c5"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 579.00px; height: 433.76px;"><img alt="" src="images/image12.png" style="width: 579.00px; height: 433.76px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 579.33px; height: 434.50px;"><img alt="" src="images/image11.png" style="width: 579.33px; height: 434.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c7" id="h.gztt8lb35lnx"><span class="c13">Part 3</span></h3><p class="c0"><span class="c5">For uniform hemisphere sampling, we uniformly sample incoming ray directions in the hemisphere and check if a new ray going from hit_p in the sampled direction hits a light source. We then use the reflection equation to calculate the outgoing light. We made sure to use world space / object space when appropriate and also offset min_t and max_t of the ray to avoid precision issues.</span></p><p class="c0"><span class="c5">Importance sampling lights is similar to uniform hemisphere sampling, but instead of sampling uniformly in a hemisphere, we sample the lights directly. We loop over the lights and for each light, sample directions between the light and hit_p. We also made sure to sample point lights only once for efficiency.</span></p><p class="c0"><span class="c5">Importance sampling lights was much less noisy than uniform hemisphere lighting. Importance sampling lights could produce good results even with a low number of camera rays per pixel or a low number of &nbsp;samples per area light. This is because importance sampling sample more of the lights that make larger impacts to the rendering, specifically the light coming from light sources.</span></p><p class="c0"><span class="c5">To illustrate the differences we are talking about, below is a demonstration of hemisphere sampling:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image1.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c3"><span class="c5"></span></p><p class="c0"><span class="c5">&nbsp;And here is a demonstration of importance sampling of light:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image16.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">Next, we have light sampling renderings with different number of light rays.</span></p><p class="c0"><span class="c5">Below is using 1 light ray:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image7.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">Below is using 4 light ray:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image22.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">Below is using 16 light ray:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image8.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c3"><span class="c5"></span></p><p class="c0"><span class="c5">Below is using 64 light ray:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image18.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c15" id="h.3ytnw56x01l3"><span class="c14">We can tell that the noise levels in the soft shadows get lower significantly for renderings with more light rays. The shadows look softer with with less rendering artifacts.</span></h3><h3 class="c7" id="h.8xqp2uby2500"><span class="c13">Part 4</span></h3><p class="c0"><span class="c5">For the indirect lighting function, we recursively applied at least one bounce radiance function until the total ray depth is reached. In each iteration, we basically sampled a new ray that shoots from the current point and intersect it with the BVH. From the intersection we accumulate the L out value by weighting the radiance by cos and 1/pdf, etc.. At the same time, we used Russian Roulette to probabilistically determine when to terminate the recursion, in order to save computation power while maintaining an unbiased estimation.</span></p><p class="c0"><span class="c5">Below is an image rendered using direct lighting only:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image9.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">Below is an image rendered using indirect lighting only:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image14.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">Below are comparisons of rendered views with max_ray_depth set to 0, 1, 2, 3, and 100 (the -m flag). Used 1024 samples per pixel.</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image21.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">max_ray_depth = 0</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image4.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">max_ray_depth = 1</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image10.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">max_ray_depth = 2</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image23.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">max_ray_depth = 3</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image2.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">max_ray_depth = 100</span></p><p class="c0"><span class="c5">Below are various sample-per-pixel rates, including 1, 2, 4, 8, 16, 64, and 1024.</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image26.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">1 sample per pixel</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image13.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">2 samples per pixel</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image15.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">4 samples per pixel</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image6.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">8 samples per pixel</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image5.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">16 samples per pixel</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image19.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">64 samples per pixel</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image25.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5">1024 samples per pixel</span></p><h3 class="c11" id="h.d52e0w2pjycs"><span class="c8"></span></h3><h3 class="c7" id="h.5xxv46d9em27"><span class="c13">Part 5</span></h3><p class="c0"><span class="c5">For adaptive sampling, we closely followed the formula outlined in the spec: basically, in the sampling loop, we check each time whether the index i is the multiple of the number of samples per batch, and if so, we simply follow the given formulas and compute the cumulative variance and mean from s1 and s2, which we derived from summing over the illuminance and luminance squared. From here, we can use the variance and mean to calculate I, which equals to 1.96 * sqrt(var) / &nbsp;sqrt(n).</span></p><p class="c0"><span class="c5">From here, we compare whether I is smaller than or equal to the max tolerance. If so, we know our calculations have converged and therefore update our sample buffer and sample count buffer. For sample buffers, we also divided the total light by the actual number of samples that lead to convergence. &nbsp;</span></p><p class="c0"><span class="c5">Below are the sample rate image and the noise free rendering:</span></p><p class="c2"><span class="c5"></span></p><h3 class="c7" id="h.oruo5u79bexp"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image3.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h3><h3 class="c4" id="h.v8nf7fxde0r"><span class="c8"></span></h3><h3 class="c4" id="h.xcucrc8skxfl"><span class="c8"></span></h3><h3 class="c7" id="h.shjs27bxivgu"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image17.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h3><h3 class="c11" id="h.hgiexyuv5vtt"><span class="c8"></span></h3><h3 class="c7" id="h.alyw6lu1zt4m"><span class="c8">Collaboration Notes</span></h3><p class="c10"><span class="c5">In this project, we collaborated through considering the approaches and implementations together as a team. We also provided ideas to each other while debugging.</span></p><p class="c2"><span class="c5"></span></p><p class="c9"><span class="c8">Link to GitHub Pages</span></p><p class="c2"><span class="c8"></span></p><p class="c10"><span class="c16"><a class="c17" href="https://www.google.com/url?q=https://cal-cs184-student.github.io/sp22-project-webpages-StephenYangjz/proj3-1/index.html&amp;sa=D&amp;source=editors&amp;ust=1647586654270692&amp;usg=AOvVaw03-OezhJmIXtzYM7OB1YBW">https://cal-cs184-student.github.io/sp22-project-webpages-StephenYangjz/proj3-1/index.html</a></span></p></body></html>